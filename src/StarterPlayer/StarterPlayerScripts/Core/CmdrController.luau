--!strict

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local CmdrController = {}

local CmdrClient = nil

export type CmdrController = {
	Init: (self: CmdrController) -> (),
	Start: (self: CmdrController) -> (),
}

function CmdrController:Init()
	print("[CmdrController] ğŸ”§ Initializing...")
	
	-- âœ… Load CmdrClient from ReplicatedStorage
	local success, result = pcall(function()
		return require(ReplicatedStorage:WaitForChild("CmdrClient"))
	end)
	
	if success and result then
		CmdrClient = result
		print("[CmdrController] âœ… Loaded CmdrClient")
	else
		warn(`[CmdrController] âš ï¸ Failed to load CmdrClient: {result}`)
		return
	end
	
	-- âœ… Set activation keys
	if CmdrClient.SetActivationKeys then
		CmdrClient:SetActivationKeys({ Enum.KeyCode.F2 })
		print("[CmdrController] âœ… Initialized. Press [F2] to open console")
	else
		warn("[CmdrController] âš ï¸ SetActivationKeys not found!")
	end
end

function CmdrController:Start()
	print("[CmdrController] ğŸš€ Starting...")
	
	-- Nothing to do in Start for Cmdr
	
	print("[CmdrController] âœ… Started")
end

return CmdrController