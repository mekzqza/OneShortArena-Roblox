--[[
	EventBus Module - à¸£à¸°à¸šà¸šà¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸ à¸²à¸¢à¹ƒà¸™à¸‚à¸­à¸‡à¹€à¸à¸¡ (Production-Ready)
	
	ğŸ“Œ à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸«à¸¥à¸±à¸:
	EventBus à¹€à¸›à¹‡à¸™à¸«à¸±à¸§à¹ƒà¸ˆà¸ªà¸³à¸„à¸±à¸à¸‚à¸­à¸‡à¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸ à¸²à¸¢à¹ƒà¸™à¸£à¸°à¸šà¸šà¸‚à¸­à¸‡à¹€à¸£à¸²
	à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ Client-Client à¹à¸¥à¸° Server-Server
	à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸à¸¶à¹ˆà¸‡à¸à¸² RemoteEvent/RemoteFunction
	
	ğŸ”§ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ:
	- On: à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œ (Subscribe)
	- Once: à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¹à¸„à¹ˆà¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§ à¹à¸¥à¹‰à¸§à¸ˆà¸°à¸–à¸­à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
	- Off: à¸–à¸­à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
	- Emit: à¸ªà¹ˆà¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
	- Clear: à¸¥à¸šà¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹à¸¥à¸°à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸” memory
	- GetEventNames: à¸”à¸¹à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¸¡à¸µà¹ƒà¸™à¸£à¸°à¸šà¸š
	
	ğŸ“– à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™:
	
	-- à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œ
	local connection = EventBus:On("PlayerJoined", function(playerName, level)
		print(playerName .. " joined with level " .. level)
	end)
	
	-- à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œ
	EventBus:Emit("PlayerJoined", "John", 5)
	
	-- à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¹à¸„à¹ˆà¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§
	EventBus:Once("GameStarted", function()
		print("Game has started!")
	end)
	
	-- à¸à¸²à¸£à¸–à¸­à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£ (à¸œà¹ˆà¸²à¸™ connection)
	connection:Disconnect()
	
	-- à¸à¸²à¸£à¸–à¸­à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸‚à¸­à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œ
	EventBus:Off("PlayerJoined")
	
	-- à¸à¸²à¸£à¸¥à¸šà¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (à¹ƒà¸Šà¹‰à¸•à¸­à¸™ cleanup)
	EventBus:Clear()
	
	âš ï¸ à¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡:
	- à¸•à¹‰à¸­à¸‡à¹€à¸à¹‡à¸š connection à¹„à¸§à¹‰ à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ Disconnect à¹ƒà¸™à¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡
	- à¹ƒà¸Šà¹‰ Once à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸£à¸±à¸šà¹à¸„à¹ˆà¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§ à¹€à¸à¸·à¹ˆà¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ memory leak
	- à¹ƒà¸Šà¹‰ Off à¸«à¸£à¸·à¸­ Clear à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹à¸¥à¹‰à¸§ à¹€à¸à¸·à¹ˆà¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ memory leak
	- EventBus à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸—à¸±à¹‰à¸‡ Client à¹à¸¥à¸° Server à¹à¸•à¹ˆà¸ˆà¸°à¹„à¸¡à¹ˆà¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¸‚à¹‰à¸²à¸¡à¸à¸±à¸™
	
	ğŸ’¡ Best Practices:
	- à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¹ƒà¸«à¹‰à¸¡à¸µà¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢à¸Šà¸±à¸” à¹€à¸Šà¹ˆà¸™ "Player_Died", "UI_Opened"
	- à¹ƒà¸Šà¹‰ Once à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§ à¹€à¸Šà¹ˆà¸™ "GameInitialized"
	- à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸”à¹‰à¸§à¸¢ prefix à¹€à¸Šà¹ˆà¸™ "UI_", "Player_", "Game_"
	- à¸—à¸³ cleanup à¹ƒà¸™ Destroy à¸«à¸£à¸·à¸­ Cleanup functions
--]]

local EventBus = {}
EventBus.signals = {} -- à¹€à¸à¹‡à¸š BindableEvent à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

type EventCallback = (...any) -> ()
type EventConnection = RBXScriptConnection

--[[
	à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ à¸²à¸¢à¹ƒà¸™: getSignal
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸£à¸·à¸­à¸”à¸¶à¸‡ BindableEvent à¸ªà¸³à¸«à¸£à¸±à¸š event à¸—à¸µà¹ˆà¸£à¸°à¸šà¸¸
	@param eventName: string - à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡ event
	@return BindableEvent - signal object à¸ªà¸³à¸«à¸£à¸±à¸š event à¸™à¸±à¹‰à¸™
--]]
local function getSignal(eventName: string): BindableEvent
	-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¡à¸µ signal à¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
	if not EventBus.signals[eventName] then
		-- à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆà¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ
		EventBus.signals[eventName] = Instance.new("BindableEvent")
	end
	return EventBus.signals[eventName]
end

--[[]
	On: à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œ
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ callback function à¸à¸±à¸š event à¸—à¸µà¹ˆà¸£à¸°à¸šà¸¸
	@param eventName: string - à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡ event à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸Ÿà¸±à¸‡
	@param callback: function - à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¹€à¸¡à¸·à¹ˆà¸­ event à¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™
	@return RBXScriptConnection - connection object à¸ªà¸³à¸«à¸£à¸±à¸š disconnect à¹ƒà¸™à¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡
	
	à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
	local conn = EventBus:On("PlayerDied", function(playerName)
		print(playerName .. " has died")
	end)
--]]
function EventBus:On(eventName: string, callback: EventCallback): EventConnection
	-- Enhanced validation with detailed error message
	if type(eventName) ~= "string" then
		-- à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹ƒà¸™ console à¸à¹ˆà¸­à¸™
		warn("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
		warn("â•‘          âŒ EventBus:On() - Invalid Event Name                 â•‘")
		warn("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£")
		warn(string.format("â•‘ Expected: string                                               â•‘"))
		warn(string.format("â•‘ Got:      %-55s â•‘", type(eventName)))
		warn(string.format("â•‘ Value:    %-55s â•‘", tostring(eventName)))
		warn("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£")
		warn("â•‘ ğŸ’¡ Common Issues:                                              â•‘")
		warn("â•‘   â€¢ Event not defined in Events.luau                           â•‘")
		warn("â•‘   â€¢ Typo in event name (e.g., Events.GAEM_START)              â•‘")
		warn("â•‘   â€¢ Using nil or undefined variable                            â•‘")
		warn("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£")
		warn("â•‘ ğŸ“ Stack Trace:                                                â•‘")
		
		-- à¹à¸ªà¸”à¸‡ stack trace à¸—à¸µà¸¥à¸°à¸šà¸£à¸£à¸—à¸±à¸”
		local stack = debug.traceback("", 3)
		for line in stack:gmatch("[^\r\n]+") do
			warn("â•‘ " .. line)
		end
		
		warn("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
		
		-- à¸ªà¹ˆà¸‡ error à¸ªà¸±à¹‰à¸™à¹†
		error(string.format("EventBus:On() - eventName must be a string, got %s (value: %s)", type(eventName), tostring(eventName)), 2)
	end
	
	assert(type(callback) == "function", "callback must be a function")
	
	local signal = getSignal(eventName)
	return signal.Event:Connect(callback)
end

--[[
	Once: à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¹à¸„à¹ˆà¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ callback function à¸à¸±à¸š event à¹à¸•à¹ˆà¸ˆà¸°à¸–à¸¹à¸à¸–à¸­à¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸
	@param eventName: string - à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡ event à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸Ÿà¸±à¸‡
	@param callback: function - à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¹€à¸¡à¸·à¹ˆà¸­ event à¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™
	@return RBXScriptConnection - connection object à¸ªà¸³à¸«à¸£à¸±à¸š disconnect à¹ƒà¸™à¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡ (à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¢à¸à¹€à¸¥à¸´à¸à¸à¹ˆà¸­à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸)
	
	à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
	EventBus:Once("GameStarted", function()
		print("Game has started!")
	end)
--]]
function EventBus:Once(eventName: string, callback: EventCallback): EventConnection
	assert(type(eventName) == "string", "eventName must be a string")
	assert(type(callback) == "function", "callback must be a function")
	
	-- à¹ƒà¸Šà¹‰ flag à¹€à¸à¸·à¹ˆà¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ race condition
	local hasBeenCalled = false
	local connection
	
	connection = self:On(eventName, function(...)
		-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¹„à¸›à¹à¸¥à¹‰à¸§à¸«à¸£à¸·à¸­à¸¢à¸±à¸‡ (thread-safe)
		if hasBeenCalled then
			return
		end
		hasBeenCalled = true
		
		-- à¸–à¸­à¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
		if connection then
			connection:Disconnect()
			connection = nil
		end
		
		-- à¹€à¸£à¸µà¸¢à¸ callback à¸à¸£à¹‰à¸­à¸¡à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­ arguments à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
		callback(...)
	end)
	
	return connection
end

--[[]
	Emit: à¸ªà¹ˆà¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¹€à¸£à¸µà¸¢à¸ callback functions à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡ event à¸™à¸µà¹‰
	@param eventName: string - à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡ event à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ªà¹ˆà¸‡
	@param ...: any - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ callbacks (à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢ arguments)
	
	à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
	EventBus:Emit("PlayerJoined", "John", 5, true)
--]]
function EventBus:Emit(eventName: string, ...: any)
	-- Enhanced validation for Emit
	if type(eventName) ~= "string" then
		-- à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹ƒà¸™ console à¸à¹ˆà¸­à¸™
		warn("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
		warn("â•‘          âŒ EventBus:Emit() - Invalid Event Name               â•‘")
		warn("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£")
		warn(string.format("â•‘ Expected: string                                               â•‘"))
		warn(string.format("â•‘ Got:      %-55s â•‘", type(eventName)))
		warn(string.format("â•‘ Value:    %-55s â•‘", tostring(eventName)))
		warn("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£")
		warn("â•‘ ğŸ’¡ Common Issues:                                              â•‘")
		warn("â•‘   â€¢ Event not defined in Events.luau                           â•‘")
		warn("â•‘   â€¢ Typo in event name                                         â•‘")
		warn("â•‘   â€¢ Using nil variable                                         â•‘")
		warn("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£")
		warn("â•‘ ğŸ“ Stack Trace:                                                â•‘")
		
		-- à¹à¸ªà¸”à¸‡ stack trace à¸—à¸µà¸¥à¸°à¸šà¸£à¸£à¸—à¸±à¸”
		local stack = debug.traceback("", 3)
		for line in stack:gmatch("[^\r\n]+") do
			warn("â•‘ " .. line)
		end
		
		warn("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
		
		-- à¸ªà¹ˆà¸‡ error à¸ªà¸±à¹‰à¸™à¹†
		error(string.format("EventBus:Emit() - eventName must be a string, got %s (value: %s)", type(eventName), tostring(eventName)), 2)
	end
	
	-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¡à¸µ signal à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ (à¹„à¸¡à¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆà¸–à¹‰à¸²à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ)
	local signal = EventBus.signals[eventName]
	if signal then
		-- Fire à¸•à¸£à¸‡à¹† à¹€à¸à¸£à¸²à¸° BindableEvent à¸¡à¸µ error handling à¸ à¸²à¸¢à¹ƒà¸™à¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§
		-- Listener à¹à¸•à¹ˆà¸¥à¸°à¸•à¸±à¸§à¸ˆà¸° run à¹à¸¢à¸à¸à¸±à¸™ à¸–à¹‰à¸² listener à¸•à¸±à¸§à¸«à¸™à¸¶à¹ˆà¸‡ error à¸ˆà¸°à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸•à¸±à¸§à¸­à¸·à¹ˆà¸™
		signal:Fire(...)
	end
	-- à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸¡à¸µ signal à¸à¹‡à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸—à¸³à¸­à¸°à¹„à¸£ (à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸„à¸£à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡)
	-- à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: à¹€à¸£à¸²à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ getSignal() à¹€à¸à¸£à¸²à¸°à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ signal à¹ƒà¸«à¸¡à¹ˆà¹€à¸¡à¸·à¹ˆà¸­à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸„à¸£à¸Ÿà¸±à¸‡
end

--[[
	Off: à¸–à¸­à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¸¥à¸š callbacks à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¸ªà¸¡à¸±à¸„à¸£à¸£à¸±à¸šà¸Ÿà¸±à¸‡ event à¸™à¸µà¹‰à¹à¸¥à¸°à¸—à¸³à¸¥à¸²à¸¢ signal
	@param eventName: string - à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡ event à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸–à¸­à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£
	
	à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
	EventBus:Off("PlayerJoined")
--]]
function EventBus:Off(eventName: string)
	assert(type(eventName) == "string", "eventName must be a string")
	
	local signal = EventBus.signals[eventName]
	if signal then
		-- à¸—à¸³à¸¥à¸²à¸¢ BindableEvent à¹€à¸à¸·à¹ˆà¸­à¸–à¸­à¸™ connections à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
		signal:Destroy()
		EventBus.signals[eventName] = nil
	end
end

--[[
	Clear: à¸¥à¸šà¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹à¸¥à¸°à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¸—à¸³à¸¥à¸²à¸¢ signals à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹à¸¥à¸°à¸¥à¹‰à¸²à¸‡ memory
	à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ reset à¸£à¸°à¸šà¸š EventBus à¸«à¸£à¸·à¸­à¸à¹ˆà¸­à¸™à¸ˆà¸°à¸›à¸´à¸”à¸£à¸°à¸šà¸š
	
	âš ï¸ à¸£à¸°à¸§à¸±à¸‡: à¸ˆà¸°à¸¥à¸š event listeners à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™à¸£à¸°à¸šà¸š!
	
	à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
	EventBus:Clear()
--]]
function EventBus:Clear()
	-- à¸§à¸™à¸¥à¸šà¸—à¸¸à¸ signal à¹à¸¥à¸°à¸¥à¹‰à¸²à¸‡ reference à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡
	for eventName, signal in pairs(EventBus.signals) do
		if signal then
			signal:Destroy()
		end
		-- à¸¥à¹‰à¸²à¸‡ reference à¸—à¸±à¸™à¸—à¸µ
		EventBus.signals[eventName] = nil
	end
end

--[[
	GetEventNames: à¸”à¸¹à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸­à¸µà¹€à¸§à¸™à¸•à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
	à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ: à¸ªà¹ˆà¸‡à¸„à¸·à¸™à¸£à¸²à¸¢à¸à¸²à¸£à¸Šà¸·à¹ˆà¸­ events à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¸¡à¸µà¹ƒà¸™à¸£à¸°à¸šà¸š
	@return table - à¸•à¸²à¸£à¸²à¸‡à¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¸Šà¸·à¹ˆà¸­ events à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
	
	à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
	local events = EventBus:GetEventNames()
	for _, eventName in ipairs(events) do
		print("Event:", eventName)
	end
--]]
function EventBus:GetEventNames(): {string}
	local eventNames = {}
	for eventName, _ in pairs(EventBus.signals) do
		table.insert(eventNames, eventName)
	end
	return eventNames
end

return EventBus