<mxfile host="app.diagrams.net">
  <diagram name="Roblox Architecture v2" id="architecture_v2">
    <mxGraphModel dx="2000" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="1600">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Title -->
        <mxCell id="title" value="Roblox Game Architecture v2 - Complete System" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=22;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="1000" height="40" as="geometry"/>
        </mxCell>
        
        <!-- CLIENT SIDE -->
        <mxCell id="client_group" value="CLIENT SIDE - StarterPlayerScripts" style="swimlane;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=3;fontSize=14;fontStyle=1;startSize=40;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="450" height="480" as="geometry"/>
        </mxCell>
        
        <mxCell id="ClientInit" value="Init.client.luau" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90caf9;strokeColor=#01579b;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="client_group">
          <mxGeometry x="155" y="60" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="InputController" value="InputController âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64b5f6;strokeColor=#01579b;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="client_group">
          <mxGeometry x="40" y="150" width="160" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="InputHandler" value="InputHandler âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64b5f6;strokeColor=#01579b;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="client_group">
          <mxGeometry x="250" y="150" width="160" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="NetworkController" value="NetworkController âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64b5f6;strokeColor=#01579b;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="client_group">
          <mxGeometry x="145" y="240" width="160" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="UIController" value="UIController ðŸ”¨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=2;fontSize=12;fontStyle=0;dashed=1;dashPattern=5 5;" vertex="1" parent="client_group">
          <mxGeometry x="145" y="340" width="160" height="50" as="geometry"/>
        </mxCell>
        
        <!-- SERVER SIDE -->
        <mxCell id="server_group" value="SERVER SIDE - ServerScriptService" style="swimlane;fillColor=#fce4ec;strokeColor=#880e4f;strokeWidth=3;fontSize=14;fontStyle=1;startSize=40;" vertex="1" parent="1">
          <mxGeometry x="580" y="100" width="500" height="620" as="geometry"/>
        </mxCell>
        
        <mxCell id="ServerInit" value="Init.server.luau" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f48fb1;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="server_group">
          <mxGeometry x="180" y="60" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="NetworkHandler" value="NetworkHandler âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ec407a;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="server_group">
          <mxGeometry x="180" y="150" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="CooldownService" value="CooldownService âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ec407a;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="server_group">
          <mxGeometry x="30" y="240" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="GameService" value="GameService âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ec407a;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="server_group">
          <mxGeometry x="320" y="240" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="ArenaService" value="ArenaService âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ec407a;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="server_group">
          <mxGeometry x="30" y="330" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="CombatService" value="CombatService âœ…" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ec407a;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="server_group">
          <mxGeometry x="320" y="330" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="ProfileService" value="ProfileService ðŸ”¨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#880e4f;strokeWidth=2;fontSize=12;fontStyle=0;dashed=1;dashPattern=5 5;" vertex="1" parent="server_group">
          <mxGeometry x="175" y="430" width="150" height="50" as="geometry"/>
        </mxCell>
        
        <!-- DEMO LAYER -->
        <mxCell id="demo_group" value="ðŸ§ª DEMO LAYER - For Testing Only" style="swimlane;fillColor=#ffebee;strokeColor=#c62828;strokeWidth=3;fontSize=14;fontStyle=1;startSize=40;dashed=1;dashPattern=8 8;" vertex="1" parent="1">
          <mxGeometry x="50" y="630" width="450" height="180" as="geometry"/>
        </mxCell>
        
        <mxCell id="DemoController" value="DemoController ðŸ§ª" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ef9a9a;strokeColor=#c62828;strokeWidth=2;fontSize=11;dashed=1;dashPattern=3 3;" vertex="1" parent="demo_group">
          <mxGeometry x="60" y="70" width="150" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="DemoService" value="DemoService ðŸ§ª" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ef9a9a;strokeColor=#c62828;strokeWidth=2;fontSize=11;dashed=1;dashPattern=3 3;" vertex="1" parent="demo_group">
          <mxGeometry x="240" y="70" width="150" height="60" as="geometry"/>
        </mxCell>
        
        <!-- SHARED SYSTEMS -->
        <mxCell id="shared_group" value="SHARED SYSTEMS - ReplicatedStorage" style="swimlane;fillColor=#fff3e0;strokeColor=#e65100;strokeWidth=3;fontSize=14;fontStyle=1;startSize=40;" vertex="1" parent="1">
          <mxGeometry x="1150" y="100" width="450" height="400" as="geometry"/>
        </mxCell>
        
        <mxCell id="EventBus" value="EventBus" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#e65100;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="shared_group">
          <mxGeometry x="155" y="60" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="Events" value="Events.luau" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#e65100;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="shared_group">
          <mxGeometry x="50" y="150" width="130" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="InputSettings" value="InputSettings.luau" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#e65100;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="shared_group">
          <mxGeometry x="270" y="150" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <mxCell id="RemoteEvent" value="NetworkBridge" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ce93d8;strokeColor=#4a148c;strokeWidth=3;fontSize=12;fontStyle=1;" vertex="1" parent="shared_group">
          <mxGeometry x="155" y="240" width="140" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="Configs" value="GameConfigs ðŸ”¨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;strokeWidth=2;fontSize=12;dashed=1;dashPattern=5 5;" vertex="1" parent="shared_group">
          <mxGeometry x="155" y="330" width="140" height="50" as="geometry"/>
        </mxCell>
        
        <!-- PACKAGES -->
        <mxCell id="packages_group" value="WALLY PACKAGES" style="swimlane;fillColor=#e8f5e9;strokeColor=#1b5e20;strokeWidth=3;fontSize=14;fontStyle=1;startSize=40;dashed=1;dashPattern=8 8;" vertex="1" parent="1">
          <mxGeometry x="1680" y="100" width="450" height="280" as="geometry"/>
        </mxCell>
        
        <mxCell id="Signal" value="Signal" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a5d6a7;strokeColor=#1b5e20;strokeWidth=2;fontSize=12;fontStyle=1;" vertex="1" parent="packages_group">
          <mxGeometry x="155" y="80" width="140" height="60" as="geometry"/>
        </mxCell>
        
        <mxCell id="Promise" value="Promise ðŸ”¨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#1b5e20;strokeWidth=2;fontSize=12;dashed=1;dashPattern=5 5;" vertex="1" parent="packages_group">
          <mxGeometry x="155" y="170" width="140" height="60" as="geometry"/>
        </mxCell>
        
        <!-- LEGEND -->
        <mxCell id="legend_group" value="LEGEND" style="swimlane;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40;" vertex="1" parent="1">
          <mxGeometry x="580" y="770" width="500" height="200" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend1" value="âœ… Implemented" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64b5f6;strokeColor=#01579b;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="legend_group">
          <mxGeometry x="30" y="60" width="180" height="35" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend2" value="ðŸ”¨ Planned" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=2;fontSize=11;dashed=1;dashPattern=5 5;" vertex="1" parent="legend_group">
          <mxGeometry x="30" y="110" width="180" height="35" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend3" value="ðŸ§ª Demo/Testing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ef9a9a;strokeColor=#c62828;strokeWidth=2;fontSize=11;dashed=1;dashPattern=3 3;" vertex="1" parent="legend_group">
          <mxGeometry x="270" y="60" width="180" height="35" as="geometry"/>
        </mxCell>
        
        <!-- NOTES -->
        <mxCell id="notes_group" value="SYSTEM NOTES" style="swimlane;fillColor=#fff9c4;strokeColor=#f57f17;strokeWidth=2;fontSize=14;fontStyle=1;startSize=40;" vertex="1" parent="1">
          <mxGeometry x="1150" y="550" width="450" height="260" as="geometry"/>
        </mxCell>
        
        <mxCell id="note1" value="Production Input Flow:" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontStyle=1;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="50" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="note1a" value="InputController â†’ EventBus â†’ InputHandler â†’ NetworkController" style="text;html=1;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="70" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="note2" value="Server Processing:" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontStyle=1;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="100" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="note2a" value="RemoteEvent â†’ NetworkHandler â†’ EventBus â†’ Services" style="text;html=1;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="120" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="note3" value="Demo Layer can be removed when Input system is complete" style="text;html=1;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="150" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="note4" value="All Services follow Init/Start lifecycle pattern" style="text;html=1;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="180" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="note5" value="NetworkHandler creates Network folder on server startup" style="text;html=1;align=left;verticalAlign=top;fontSize=10;" vertex="1" parent="notes_group">
          <mxGeometry x="15" y="210" width="420" height="20" as="geometry"/>
        </mxCell>
        
        <!-- CLIENT CONNECTIONS -->
        <mxCell id="c1" edge="1" parent="1" source="ClientInit" target="NetworkController">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="c2" edge="1" parent="1" source="ClientInit" target="InputController">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="c3" edge="1" parent="1" source="ClientInit" target="InputHandler">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="c4" edge="1" parent="1" source="ClientInit" target="UIController" style="dashed=1;dashPattern=5 5;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="c5" edge="1" parent="1" source="ClientInit" target="DemoController" style="strokeColor=#c62828;dashed=1;dashPattern=3 3;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- SERVER CONNECTIONS -->
        <mxCell id="s1" edge="1" parent="1" source="ServerInit" target="NetworkHandler" style="strokeColor=#880e4f;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="s2" edge="1" parent="1" source="ServerInit" target="CooldownService" style="strokeColor=#880e4f;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="s3" edge="1" parent="1" source="ServerInit" target="GameService" style="strokeColor=#880e4f;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="s4" edge="1" parent="1" source="ServerInit" target="ArenaService" style="strokeColor=#880e4f;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="s5" edge="1" parent="1" source="ServerInit" target="CombatService" style="strokeColor=#880e4f;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="s6" edge="1" parent="1" source="ServerInit" target="DemoService" style="strokeColor=#c62828;dashed=1;dashPattern=3 3;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="750"/>
              <mxPoint x="380" y="750"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- INPUT FLOW -->
        <mxCell id="if1" edge="1" parent="1" source="InputController" target="EventBus" style="strokeColor=#e65100;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="80"/>
              <mxPoint x="1325" y="80"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="if2" edge="1" parent="1" source="EventBus" target="InputHandler" style="strokeColor=#e65100;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="160"/>
              <mxPoint x="520" y="160"/>
              <mxPoint x="420" y="275"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="if3" edge="1" parent="1" source="InputHandler" target="NetworkController">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="if4" edge="1" parent="1" source="NetworkController" target="RemoteEvent" style="strokeColor=#4a148c;strokeWidth=3;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="365"/>
              <mxPoint x="1100" y="365"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- NETWORK FLOW -->
        <mxCell id="nf1" edge="1" parent="1" source="RemoteEvent" target="NetworkHandler" style="strokeColor=#4a148c;strokeWidth=3;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1100" y="250"/>
              <mxPoint x="760" y="250"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="nf2" edge="1" parent="1" source="NetworkHandler" target="EventBus" style="strokeColor=#e65100;strokeWidth=2;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="250"/>
              <mxPoint x="1200" y="250"/>
              <mxPoint x="1200" y="185"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="nf3" edge="1" parent="1" source="EventBus" target="CombatService" style="strokeColor=#e65100;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="185"/>
              <mxPoint x="975" y="430"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="nf4" edge="1" parent="1" source="EventBus" target="GameService" style="strokeColor=#e65100;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="185"/>
              <mxPoint x="975" y="340"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="nf5" edge="1" parent="1" source="CombatService" target="CooldownService">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- DEPENDENCIES -->
        <mxCell id="d1" edge="1" parent="1" source="InputController" target="InputSettings">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="275"/>
              <mxPoint x="1490" y="275"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="d2" edge="1" parent="1" source="EventBus" target="Signal">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1600" y="185"/>
              <mxPoint x="1835" y="220"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="d3" edge="1" parent="1" source="ProfileService" target="Promise" style="dashed=1;dashPattern=5 5;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1100" y="630"/>
              <mxPoint x="1835" y="340"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- DEMO CONNECTIONS -->
        <mxCell id="demo1" edge="1" parent="1" source="DemoController" target="NetworkController" style="strokeColor=#c62828;dashed=1;dashPattern=3 3;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="185" y="630"/>
              <mxPoint x="185" y="365"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="demo2" edge="1" parent="1" source="DemoService" target="NetworkHandler" style="strokeColor=#c62828;dashed=1;dashPattern=3 3;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="630"/>
              <mxPoint x="580" y="630"/>
              <mxPoint x="580" y="275"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>